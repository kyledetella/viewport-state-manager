/*! viewportStateManager - v0.1.0 - 2013-08-05 */!function(a){"use strict";var b,c=document;b=function(b){var d;return d=function(c){return this.config=b.extend(this.defaults,c),this.debounceTime=c.debounceTime?c.debounceTime:this.defaults.debounceTime,a.addEventListener(this.config.viewportChangeEvent,b.bind(this.observeViewportState,this)),this.observeViewportState.call(this,null),this},d.prototype={lastViewportState:"",currentViewportState:"",firstRun:!0,defaults:{log:!0,ranges:{desktop:[1025,5e3],tablet:[768,1024],handheld:[1,767]},debounceTime:250,viewportChangeEvent:"onorientationchange"in a?"orientationchange":"resize"},setViewportState:function(a,c){this.config.log,this.currentViewportState=a,c&&(this.lastViewportState=c),b.isFunction(this.config.callback)&&this.config.callback(a,c)},getViewportState:function(){return this.currentViewportState},changeViewportState:function(a){var b,c;b=this.getViewportState(),a!==b&&(c=b,this.setViewportState(a,c))},observeViewportState:b.debounce(function(){var a=c.documentElement.clientWidth;b.each(this.config.ranges,function(b,c){a>=b[0]&&a<=b[1]&&(this.firstRun?(this.setViewportState(c),this.firstRun=!1):this.changeViewportState(c))},this)},this.debounceTime)},d},"function"==typeof define&&define.amd?define(["_"],b):window.viewportStateManager=b(window.lodash)}(window);